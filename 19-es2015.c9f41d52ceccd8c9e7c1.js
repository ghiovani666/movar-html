(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{QCXl:function(e,t,c){"use strict";c.r(t),c.d(t,"TablesModule",(function(){return ze}));var i=c("ofXK"),o=c("tyNb"),a=c("qFsG"),n=c("M9IT"),r=c("Dh3D"),s=c("+0xr"),l=c("lDzL"),m=c("fXoL"),d=c("3Pt+"),b=c("LvDl");let u=(()=>{class e{constructor(){this.form=new d.h({id:new d.e(null),nombre:new d.e("",d.w.required),apellido:new d.e("",d.w.required),telefono:new d.e("",d.w.required)})}initializeFormGroup(){this.form.setValue({id:null,nombre:"",apellido:"",telefono:""})}populateForm(e){this.form.setValue(b.omit({id:e.id_asesor,nombre:e.nombre,apellido:e.apellido,telefono:e.telefono}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=c("b8Af"),p=c("0IaG"),h=c("zkoq"),g=c("kmnG"),v=c("bTqV");let C=(()=>{class e{constructor(e,t,c){this.usersService=e,this.service=t,this.dialogRef=c}ngOnInit(){}onSubmit(){""!=this.service.form.value.nombre&&""!=this.service.form.value.apellido&&""!=this.service.form.value.telefono&&(this.usersService.sendMessage(this.service.form.value),this.service.form.reset(),this.service.initializeFormGroup(),this.onClose())}onClose(){this.service.form.reset(),this.service.initializeFormGroup(),this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(m.Vb(f.a),m.Vb(u),m.Vb(p.h))},e.\u0275cmp=m.Pb({type:e,selectors:[["app-employee"]],decls:25,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"normal-form",3,"formGroup"],["cols","1","rowHeight","200px"],[1,"controles-container"],["type","hidden","formControlName","id"],["formControlName","nombre","matInput","","placeholder","Nombre*"],["formControlName","apellido","matInput","","placeholder","Apellido"],["formControlName","telefono","matInput","","placeholder","Tel\xe9fono*"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(m.bc(0,"h2",0),m.Uc(1),m.ac(),m.bc(2,"mat-dialog-content",1),m.bc(3,"form",2),m.bc(4,"mat-grid-list",3),m.bc(5,"mat-grid-tile"),m.bc(6,"div",4),m.Wb(7,"input",5),m.bc(8,"mat-form-field"),m.Wb(9,"input",6),m.bc(10,"mat-error"),m.Uc(11,"This field is mandatory."),m.ac(),m.ac(),m.bc(12,"mat-form-field"),m.Wb(13,"input",7),m.bc(14,"mat-error"),m.Uc(15,"Invalid email address."),m.ac(),m.ac(),m.bc(16,"mat-form-field"),m.Wb(17,"input",8),m.bc(18,"mat-error"),m.Uc(19,"This field is mandatory."),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(20,"mat-dialog-actions",9),m.bc(21,"button",10),m.Uc(22,"Cancel"),m.ac(),m.bc(23,"button",11),m.nc("click",(function(){return t.onSubmit()})),m.Uc(24),m.ac(),m.ac()),2&e&&(m.Fb(1),m.Vc(t.service.form.controls.id.value?"Modifica Asesor":"Nuevo Asesor"),m.Fb(2),m.xc("formGroup",t.service.form),m.Fb(21),m.Vc(t.service.form.controls.id.value?"Actualizar":"Registrar"))},directives:[p.i,p.f,d.y,d.p,d.i,h.a,h.c,d.b,d.o,d.g,g.c,a.b,g.b,p.c,v.b,p.d],styles:[""]}),e})();var x=c("dNgK");let _=(()=>{class e{constructor(e){this.snackBar=e,this.config={duration:3e3,horizontalPosition:"right",verticalPosition:"top"}}success(e){this.config.panelClass=["notification","success"],this.snackBar.open(e,"",this.config)}warn(e){this.config.panelClass=["notification","warn"],this.snackBar.open(e,"",this.config)}}return e.\u0275fac=function(t){return new(t||e)(m.jc(x.a))},e.\u0275prov=m.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=c("fqgk"),w=c("/t3+"),y=c("NFeN"),A=c("QibW"),O=c("znSr");function M(e,t){if(1&e){const e=m.cc();m.bc(0,"button",26),m.nc("click",(function(){return m.Lc(e),m.rc().onSearchClear()})),m.bc(1,"mat-icon"),m.Uc(2,"close"),m.ac(),m.ac()}}function F(e,t){1&e&&(m.bc(0,"mat-header-cell",27),m.Uc(1,"ID"),m.ac())}function P(e,t){if(1&e&&(m.bc(0,"mat-cell"),m.bc(1,"span",28),m.Uc(2,"ID:"),m.ac(),m.Uc(3),m.ac()),2&e){const e=t.$implicit;m.Fb(3),m.Wc(" ",e.id_asesor," ")}}function U(e,t){1&e&&(m.bc(0,"mat-header-cell",27),m.Uc(1,"Usuario"),m.ac())}function D(e,t){if(1&e&&(m.bc(0,"mat-cell"),m.bc(1,"span",28),m.Uc(2,"Usuario:"),m.ac(),m.Uc(3),m.ac()),2&e){const e=t.$implicit;m.Fb(3),m.Wc(" ",e.username," ")}}function k(e,t){1&e&&(m.bc(0,"mat-header-cell",27),m.Uc(1,"Nombre"),m.ac())}function I(e,t){if(1&e&&(m.bc(0,"mat-cell"),m.bc(1,"span",28),m.Uc(2,"Nombre:"),m.ac(),m.Uc(3),m.ac()),2&e){const e=t.$implicit;m.Fb(3),m.Wc(" ",e.nombre," ")}}function N(e,t){1&e&&(m.bc(0,"mat-header-cell",27),m.Uc(1,"Apellido"),m.ac())}function V(e,t){if(1&e&&(m.bc(0,"mat-cell"),m.bc(1,"span",28),m.Uc(2,"RUC:"),m.ac(),m.Uc(3),m.ac()),2&e){const e=t.$implicit;m.Fb(3),m.Wc(" ",e.apellido," ")}}function z(e,t){1&e&&(m.bc(0,"mat-header-cell",27),m.Uc(1,"Tel\xe9fono"),m.ac())}function W(e,t){if(1&e&&(m.bc(0,"mat-cell"),m.bc(1,"span",28),m.Uc(2,"Tel\xe9fono:"),m.ac(),m.Uc(3),m.ac()),2&e){const e=t.$implicit;m.Fb(3),m.Wc(" ",e.telefono," ")}}function R(e,t){1&e&&(m.bc(0,"mat-header-cell",27),m.Uc(1,"F. Creaci\xf3n"),m.ac())}function L(e,t){if(1&e&&(m.bc(0,"mat-cell"),m.bc(1,"span",28),m.Uc(2,"F. Creaci\xf3n:"),m.ac(),m.Uc(3),m.sc(4,"date"),m.ac()),2&e){const e=t.$implicit;m.Fb(3),m.Wc(" ",m.uc(4,1,e.created_at,"yyyy-MM-dd")," ")}}function E(e,t){1&e&&m.Wb(0,"mat-header-cell")}function T(e,t){if(1&e){const e=m.cc();m.bc(0,"mat-radio-button",32),m.nc("click",(function(){m.Lc(e);const t=m.rc().$implicit;return m.rc().compraFunction(t)})),m.Uc(1,"Seleccionar"),m.ac()}2&e&&m.xc("mat-dialog-close",!0)}const J=function(e){return["/asesores/aseclient",e]};function q(e,t){if(1&e){const e=m.cc();m.bc(0,"mat-cell"),m.bc(1,"button",29),m.nc("click",(function(){m.Lc(e);const c=t.$implicit;return m.rc().onEdit(c)})),m.bc(2,"mat-icon"),m.Uc(3,"edit"),m.ac(),m.ac(),m.bc(4,"button",30),m.bc(5,"mat-icon"),m.Uc(6,"group_add"),m.ac(),m.ac(),m.Sc(7,T,2,1,"mat-radio-button",31),m.ac()}if(2&e){const e=t.$implicit,c=m.rc();m.Fb(4),m.xc("routerLink",m.Dc(2,J,e.id_asesor)),m.Fb(3),m.xc("ngIf",c.showRadio)}}function Z(e,t){1&e&&(m.bc(0,"mat-footer-cell",33),m.Uc(1," Loading data... "),m.ac())}function G(e,t){1&e&&(m.bc(0,"mat-footer-cell",33),m.Uc(1," No data. "),m.ac())}function Y(e,t){1&e&&m.Wb(0,"mat-header-row")}function $(e,t){1&e&&m.Wb(0,"mat-row")}const j=function(e){return{hide:e}};function H(e,t){if(1&e&&m.Wb(0,"mat-footer-row",34),2&e){const e=m.rc();m.xc("ngClass",m.Dc(1,j,null!=e.listData))}}function K(e,t){if(1&e&&m.Wb(0,"mat-footer-row",34),2&e){const e=m.rc();m.xc("ngClass",m.Dc(1,j,!(null!=e.listData&&0==e.listData.data.length)))}}const X=function(){return["/asesores/aseclient"]},B=function(){return["loading"]},Q=function(){return["noData"]},ee=function(){return[5,10,25,100]};let te=(()=>{class e{constructor(e,t,c,i,o){this.ocultando=e,this.usersService=t,this.service=c,this.dialog=i,this.notificationService=o,this.showRadio=!0,this.displayedColumns=["id_asesor","username","nombre","apellido","telefono","created_at","actions"],this.projectsSubscription=this.usersService.getMessage().subscribe(e=>{e.id?(console.log("ACTUALIZAR"),this.updateCreate()):(console.log("REGISTRAR Asesor"),this.addCreate())}),this.ocultando.getClickEvent().subscribe(e=>{this.showRadio=!this.showRadio})}compraFunction(e){this.usersService.sendMessage(e)}ngOnInit(){this.showRadio=!this.showRadio,this.listarEmployee()}listarEmployee(){this.usersService.listarEmployee().subscribe(e=>{this.listData=new s.o(e.data),this.listData.sort=this.sort,this.listData.paginator=this.paginator,this.listData.filterPredicate=(e,t)=>this.displayedColumns.some(c=>{if(void 0!==e[c])return"actions"!=c&&-1!=e[c].toString().toLowerCase().indexOf(t)})})}addCreate(){}updateCreate(){null!=this.service.form.value.id&&this.usersService.updatetEmployee(this.service.form.value).subscribe(e=>{this.listarEmployee(),this.notificationService.success(JSON.parse(JSON.stringify(e)).message)})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.listData.filter=this.searchKey.trim().toLowerCase()}onCreate(){this.service.initializeFormGroup();const e=new p.e;e.disableClose=!1,e.autoFocus=!0,e.width="350px",this.dialog.open(C,e)}onEdit(e){this.service.populateForm(e);const t=new p.e;t.disableClose=!1,t.autoFocus=!0,t.width="350px",this.dialog.open(C,t)}onDelete(e){confirm("Are you sure to delete this record ?")&&(this.usersService.deleteEmployee(e).subscribe(t=>{this.listData.filteredData.filter(t=>t.id!==e),this.listData=new s.o(this.listData.filteredData.filter(t=>t.id!==e)),this.listData.sort=this.sort,this.listData.paginator=this.paginator,this.listData.filterPredicate=(e,t)=>this.displayedColumns.some(c=>"actions"!=c&&-1!=e[c].toLowerCase().indexOf(t))}),this.notificationService.warn("! Deleted successfully"))}ngOnDestroy(){this.projectsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m.Vb(S.a),m.Vb(f.a),m.Vb(u),m.Vb(p.b),m.Vb(_))},e.\u0275cmp=m.Pb({type:e,selectors:[["app-employee-list"]],viewQuery:function(e,t){var c;1&e&&(m.Zc(r.a,!0),m.Zc(n.a,!0)),2&e&&(m.Hc(c=m.oc())&&(t.sort=c.first),m.Hc(c=m.oc())&&(t.paginator=c.first))},decls:47,vars:15,consts:[[1,"fill-remaining-space"],["mat-stroked-button","","tabIndex","-1",1,"btn-dialog-close",3,"mat-dialog-close"],[1,"search-div"],["mat-raised-button","",3,"routerLink"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"table-responsive","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","id_asesor"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","username"],["matColumnDef","nombre"],["matColumnDef","apellido"],["matColumnDef","telefono"],["matColumnDef","created_at"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["matColumnDef","loading"],["colspan","6",4,"matFooterCellDef"],["matColumnDef","noData"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-sort-header",""],[1,"mobile-label"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"routerLink"],["value","1",3,"mat-dialog-close","click",4,"ngIf"],["value","1",3,"mat-dialog-close","click"],["colspan","6"],[3,"ngClass"]],template:function(e,t){1&e&&(m.bc(0,"mat-toolbar"),m.bc(1,"span"),m.Uc(2,"Tabla extendida de Asesores"),m.ac(),m.Wb(3,"span",0),m.bc(4,"button",1),m.bc(5,"mat-icon"),m.Uc(6,"clear"),m.ac(),m.ac(),m.ac(),m.bc(7,"div",2),m.bc(8,"button",3),m.bc(9,"mat-icon"),m.Uc(10,"add"),m.ac(),m.Uc(11,"Crear Asesor - Cliente "),m.ac(),m.bc(12,"mat-form-field",4),m.bc(13,"input",5),m.nc("ngModelChange",(function(e){return t.searchKey=e}))("keyup",(function(){return t.applyFilter()})),m.ac(),m.Sc(14,M,3,0,"button",6),m.ac(),m.ac(),m.bc(15,"div",7),m.bc(16,"mat-table",8),m.Zb(17,9),m.Sc(18,F,2,0,"mat-header-cell",10),m.Sc(19,P,4,1,"mat-cell",11),m.Yb(),m.Zb(20,12),m.Sc(21,U,2,0,"mat-header-cell",10),m.Sc(22,D,4,1,"mat-cell",11),m.Yb(),m.Zb(23,13),m.Sc(24,k,2,0,"mat-header-cell",10),m.Sc(25,I,4,1,"mat-cell",11),m.Yb(),m.Zb(26,14),m.Sc(27,N,2,0,"mat-header-cell",10),m.Sc(28,V,4,1,"mat-cell",11),m.Yb(),m.Zb(29,15),m.Sc(30,z,2,0,"mat-header-cell",10),m.Sc(31,W,4,1,"mat-cell",11),m.Yb(),m.Zb(32,16),m.Sc(33,R,2,0,"mat-header-cell",10),m.Sc(34,L,5,4,"mat-cell",11),m.Yb(),m.Zb(35,17),m.Sc(36,E,1,0,"mat-header-cell",18),m.Sc(37,q,8,4,"mat-cell",11),m.Yb(),m.Zb(38,19),m.Sc(39,Z,2,0,"mat-footer-cell",20),m.Yb(),m.Zb(40,21),m.Sc(41,G,2,0,"mat-footer-cell",20),m.Yb(),m.Sc(42,Y,1,0,"mat-header-row",22),m.Sc(43,$,1,0,"mat-row",23),m.Sc(44,H,1,3,"mat-footer-row",24),m.Sc(45,K,1,3,"mat-footer-row",24),m.ac(),m.Wb(46,"mat-paginator",25),m.ac()),2&e&&(m.Fb(4),m.xc("mat-dialog-close",!0),m.Fb(4),m.xc("routerLink",m.Cc(11,X)),m.Fb(5),m.xc("ngModel",t.searchKey),m.Fb(1),m.xc("ngIf",t.searchKey),m.Fb(2),m.xc("dataSource",t.listData),m.Fb(26),m.xc("matHeaderRowDef",t.displayedColumns),m.Fb(1),m.xc("matRowDefColumns",t.displayedColumns),m.Fb(1),m.xc("matFooterRowDef",m.Cc(12,B)),m.Fb(1),m.xc("matFooterRowDef",m.Cc(13,Q)),m.Fb(1),m.xc("pageSizeOptions",m.Cc(14,ee))("pageSize",10))},directives:[w.a,v.b,p.d,y.a,o.h,g.c,a.b,d.b,d.o,d.r,i.n,s.n,r.a,s.c,s.i,s.b,s.e,s.k,s.m,s.g,n.a,g.g,s.h,r.b,s.a,A.a,s.d,s.j,s.l,s.f,O.a,i.l],pipes:[i.e],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:500px;min-width:300px}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:500px}.mobile-label[_ngcontent-%COMP%]{display:none}@media(max-width:600px){.mobile-label[_ngcontent-%COMP%]{width:80px;display:inline-block;font-weight:700}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{flex-direction:column;align-items:start;padding:8px 24px}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{margin-top:22px;flex:1;margin-left:25px;display:list-item!important;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-chip[_ngcontent-%COMP%]:not(.mat-basic-chip){display:flex;padding:8px 12px;border-radius:24px;font-size:13px;line-height:16px}"]}),e})(),ce=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Pb({type:e,selectors:[["app-employees"]],decls:2,vars:0,consts:[[1,"container"]],template:function(e,t){1&e&&(m.bc(0,"div",0),m.Wb(1,"app-employee-list"),m.ac())},directives:[te],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]}),e})();var ie=c("YsVr"),oe=c("3Zzt"),ae=c("/ed5"),ne=c("Wp6s"),re=c("f0Cb"),se=c("XiUz");function le(e,t){1&e&&(m.bc(0,"small",26),m.Uc(1," First * is required "),m.ac())}function me(e,t){1&e&&(m.bc(0,"small",26),m.Uc(1," First * is required "),m.ac())}function de(e,t){1&e&&(m.bc(0,"small",26),m.Uc(1," First * is required "),m.ac())}function be(e,t){if(1&e){const e=m.cc();m.bc(0,"button",27),m.nc("click",(function(){return m.Lc(e),m.rc().addToCart()})),m.bc(1,"mat-icon"),m.Uc(2,"add_task"),m.ac(),m.Uc(3," Agregar "),m.ac()}}function ue(e,t){if(1&e){const e=m.cc();m.bc(0,"button",27),m.nc("click",(function(){return m.Lc(e),m.rc().addToRegister()})),m.bc(1,"mat-icon"),m.Uc(2,"add_task"),m.ac(),m.Uc(3," Registrar "),m.ac()}}function fe(e,t){if(1&e){const e=m.cc();m.bc(0,"div",33),m.bc(1,"div",34),m.nc("click",(function(){m.Lc(e);const t=m.rc().index;return m.rc().removeFromCart(t)})),m.Uc(2,"X"),m.ac(),m.ac()}}function pe(e,t){if(1&e){const e=m.cc();m.bc(0,"div",33),m.bc(1,"div",34),m.nc("click",(function(){m.Lc(e);const t=m.rc().$implicit;return m.rc().removeCliente(t.id_ase_cli)})),m.Uc(2,"X"),m.ac(),m.ac()}}const he=function(){return{"background-image":"url(https://i.pinimg.com/originals/83/c0/0f/83c00f59d66869aa22d3bd5f35e26c6d.png)"}};function ge(e,t){if(1&e&&(m.bc(0,"div",28),m.bc(1,"div",29),m.Wb(2,"div",30),m.ac(),m.bc(3,"div",29),m.bc(4,"div",31),m.Uc(5),m.ac(),m.ac(),m.bc(6,"div",29),m.bc(7,"div",31),m.Uc(8),m.ac(),m.ac(),m.bc(9,"div",29),m.bc(10,"div",31),m.Uc(11),m.ac(),m.ac(),m.bc(12,"div",29),m.bc(13,"div",31),m.Uc(14),m.ac(),m.ac(),m.bc(15,"div",29),m.bc(16,"div",31),m.Uc(17),m.ac(),m.ac(),m.Sc(18,fe,3,0,"div",32),m.Sc(19,pe,3,0,"div",32),m.ac()),2&e){const e=t.$implicit,c=m.rc();m.Fb(2),m.xc("ngStyle",m.Cc(8,he)),m.Fb(3),m.Wc(" ",e.id_cliente," "),m.Fb(3),m.Wc(" ",e.razon_social," "),m.Fb(3),m.Wc(" ",e.ruc," "),m.Fb(3),m.Wc(" ",e.nombre_contacto," "),m.Fb(3),m.Wc(" ",e.telefono," "),m.Fb(1),m.xc("ngIf",!c.isAprob),m.Fb(1),m.xc("ngIf",c.isAprob)}}function ve(e,t){if(1&e){const e=m.cc();m.bc(0,"div",20),m.bc(1,"button",27),m.nc("click",(function(){return m.Lc(e),m.rc().SumitRegister()})),m.bc(2,"mat-icon"),m.Uc(3,"check_circle_outline"),m.ac(),m.Uc(4," Registrar "),m.ac(),m.ac()}}let Ce=(()=>{class e{constructor(e,t,c,i,o,a,n,r){this.asesorServices=e,this.router=t,this.route=c,this.dialog=i,this.cartService=o,this.usersService=a,this.repartDateService=n,this.notificationService=r,this.showRadio=!0,this.isAprob=!1,this.show=!0,this.cartList=[],this.isArrays=[],this.addToCart=()=>{let e=!0;if(Number(this.formAsesor.value.id_cliente)>0&&""!=this.formAsesor.value.id_cliente&&null!=this.formAsesor.value.id_cliente){if(this.cartList.forEach((t,c)=>{t.id_cliente==this.formAsesor.value.id_cliente&&(this.notificationService.success("Ya existe el Cliente..!"),e=!1)}),e){const e=JSON.parse(JSON.stringify({id_cliente:this.formAsesor.value.id_cliente,razon_social:this.formAsesor.value.razon_social,ruc:this.formAsesor.value.ruc,nombre_contacto:this.formAsesor.value.nombre_contacto,telefono:this.formAsesor.value.telefono_cliente}));this.isArrays.push(e),this.cartList=this.isArrays,this.formAsesor.patchValue({id_cliente:null}),this.formAsesor.patchValue({razon_social:null}),this.formAsesor.patchValue({ruc:null}),this.formAsesor.patchValue({nombre_contacto:null}),this.formAsesor.patchValue({telefono_cliente:null})}}else this.notificationService.success("Agrege un Cliente..!")},this.removeFromCart=e=>{this.cartList.splice(e,1)},this.removeCliente=e=>{confirm("Esta seguro de Retirar al Cliente?")&&this.asesorServices.deleteAdviserClient(e).subscribe(e=>{this.notificationService.success(JSON.parse(JSON.stringify(e)).message),this.editAdviserClient(this.route.snapshot.params.id)})},this.projectsSubscription=this.repartDateService.getMessageClienteAdviser().subscribe(e=>{this.formAsesor.patchValue({id_cliente:e.id_cliente}),this.formAsesor.patchValue({razon_social:e.razon_social}),this.formAsesor.patchValue({ruc:e.ruc}),this.formAsesor.patchValue({nombre_contacto:e.nombre_contacto}),this.formAsesor.patchValue({telefono_cliente:e.telefono})})}ngOnInit(){this.myModel=!0,this.formAsesor=new d.h({nombre:new d.e(null,d.w.required),apellido:new d.e(null,d.w.required),telefono:new d.e(null,d.w.required),id_cliente:new d.e(""),razon_social:new d.e(""),ruc:new d.e(""),nombre_contacto:new d.e(""),telefono_cliente:new d.e("")}),this.route.snapshot.params.id&&(this.editAdviser(this.route.snapshot.params.id),this.editAdviserClient(this.route.snapshot.params.id),this.isAprob=!0)}editAdviser(e){this.asesorServices.editAdviser(e).subscribe(e=>{const t=JSON.parse(JSON.stringify(e)).data;this.formAsesor.get("nombre").setValue(t.nombre),this.formAsesor.get("apellido").setValue(t.apellido),this.formAsesor.get("telefono").setValue(t.telefono)})}editAdviserClient(e){this.asesorServices.editAdviserClient(e).subscribe(e=>{const t=JSON.parse(JSON.stringify(e));this.cartList=t.data})}getOpenModalCliente(){const e=new p.e;e.disableClose=!0,e.autoFocus=!0,e.width="60%",this.dialog.open(ae.a,e),this.usersService.sumitEmployee(!!this.showRadio)}SumitRegister(){if(this.formAsesor.valid)if(this.cartList.length>0){let e=[];this.cartList.forEach((t,c)=>{e.push(t.id_cliente)});const t=JSON.parse(JSON.stringify({nombre:this.formAsesor.value.nombre,apellido:this.formAsesor.value.apellido,telefono:this.formAsesor.value.telefono,id_cliente:e}));this.asesorServices.registerEmployee(t).subscribe(e=>{this.notificationService.success(JSON.parse(JSON.stringify(e)).message),this.router.navigate(["/asesores/mat-table"])})}else this.notificationService.success("Agrege un Cliente..!");else this.notificationService.success("Ingrese todos los Campos..!")}addToRegister(){let e=!0;if(""!=this.formAsesor.value.nombre&&""!=this.formAsesor.value.apellido&&this.formAsesor.value.telefono)if(""!=this.formAsesor.value.id_cliente&&null!=this.formAsesor.value.id_cliente){if(this.cartList.length>0&&this.cartList.forEach((t,c)=>{t.id_cliente==this.formAsesor.value.id_cliente?(this.notificationService.success("Ya existe el Cliente..!"),e=!1):e=!0}),e&&confirm("Estas Seguro de Asignar al Cliente?")){const e=JSON.parse(JSON.stringify({id_asesor:this.route.snapshot.params.id,id_cliente:this.formAsesor.value.id_cliente}));this.asesorServices.registerAsesorCliente(e).subscribe(e=>{this.notificationService.success(JSON.parse(JSON.stringify(e)).message),this.formAsesor.patchValue({id_cliente:null}),this.formAsesor.patchValue({razon_social:null}),this.formAsesor.patchValue({ruc:null}),this.formAsesor.patchValue({nombre_contacto:null}),this.formAsesor.patchValue({telefono_cliente:null}),this.editAdviserClient(this.route.snapshot.params.id)})}}else this.notificationService.success("Agrege un Cliente..!");else this.notificationService.success("Ingrese todos los Campos..!")}ngOnDestroy(){this.projectsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m.Vb(f.a),m.Vb(o.g),m.Vb(o.a),m.Vb(p.b),m.Vb(oe.a),m.Vb(S.a),m.Vb(ie.a),m.Vb(_))},e.\u0275cmp=m.Pb({type:e,selectors:[["app-aseclient"]],decls:76,vars:8,consts:[[1,"p-0"],[3,"formGroup"],[1,""],[1,"card-title-text"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],[1,"full-width"],["matInput","","name","nombre","formControlName","nombre","placeholder","Nombre","value",""],["class","form-error-msg",4,"ngIf"],["matInput","","name","apellido","formControlName","apellido","placeholder","Apellido","value",""],["matInput","","name","telefono","formControlName","telefono","placeholder","Tel\xe9fono","value",""],["type","hidden","name","id_cliente","formControlName","id_cliente","value",""],["matInput","","name","razon_social","formControlName","razon_social","placeholder","Razon Social","value","","readonly",""],["matInput","","name","ruc","formControlName","ruc","placeholder","DNI o RUC","value","","readonly",""],["matInput","","name","nombre_contacto","formControlName","nombre_contacto","placeholder","Nombre del Contacto","value","","readonly",""],["matInput","","name","telefono_cliente","formControlName","telefono_cliente","placeholder","Telefono","value","","readonly",""],[1,"example-button-container"],["mat-fab","","color","primary","aria-label","Example icon button with a delete icon",3,"click"],[1,"cart-page-content"],[1,"cart-buttons","checkout-button"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"cart-item-header","cart-item-row"],[1,"cart-item-cell","cart-item-product"],["class","cart-item-row",4,"ngFor","ngForOf"],["class","cart-buttons checkout-button",4,"ngIf"],[1,"form-error-msg"],["mat-raised-button","","color","primary",3,"click"],[1,"cart-item-row"],[1,"cart-item-cell","cart-item-total"],[1,"cart-item-thumbnail",3,"ngStyle"],[1,"item-price"],["class","cart-item-cell cart-item-action",4,"ngIf"],[1,"cart-item-cell","cart-item-action"],[1,"item-remove",3,"click"]],template:function(e,t){1&e&&(m.bc(0,"mat-card",0),m.bc(1,"form",1),m.bc(2,"mat-card-title",2),m.bc(3,"div",3),m.Uc(4,"Datos del Asesor"),m.ac(),m.Wb(5,"mat-divider"),m.ac(),m.bc(6,"mat-card-content"),m.bc(7,"div",4),m.bc(8,"div",5),m.bc(9,"div",6),m.bc(10,"mat-form-field",7),m.Wb(11,"input",8),m.ac(),m.Sc(12,le,2,0,"small",9),m.ac(),m.bc(13,"div",6),m.bc(14,"mat-form-field",7),m.Wb(15,"input",10),m.ac(),m.Sc(16,me,2,0,"small",9),m.ac(),m.ac(),m.bc(17,"div",5),m.bc(18,"div",6),m.bc(19,"mat-form-field",7),m.Wb(20,"input",11),m.ac(),m.Sc(21,de,2,0,"small",9),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(22,"mat-card-title",2),m.bc(23,"div",3),m.Uc(24,"Datos Cliente"),m.ac(),m.Wb(25,"mat-divider"),m.ac(),m.bc(26,"mat-card-content"),m.bc(27,"div",4),m.bc(28,"div",5),m.Wb(29,"input",12),m.bc(30,"div",6),m.bc(31,"mat-form-field",7),m.Wb(32,"input",13),m.ac(),m.ac(),m.bc(33,"div",6),m.bc(34,"mat-form-field",7),m.Wb(35,"input",14),m.ac(),m.ac(),m.ac(),m.bc(36,"div",5),m.bc(37,"div",6),m.bc(38,"mat-form-field",7),m.Wb(39,"input",15),m.ac(),m.ac(),m.bc(40,"div",6),m.bc(41,"mat-form-field",7),m.Wb(42,"input",16),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(43,"div",17),m.bc(44,"button",18),m.nc("click",(function(){return t.getOpenModalCliente()})),m.bc(45,"mat-icon"),m.Uc(46,"search"),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(47,"mat-card-content"),m.bc(48,"div",19),m.bc(49,"div",20),m.Sc(50,be,4,0,"button",21),m.Sc(51,ue,4,0,"button",21),m.ac(),m.bc(52,"div",22),m.bc(53,"div",23),m.bc(54,"span"),m.Uc(55,"Avatar"),m.ac(),m.ac(),m.bc(56,"div",23),m.bc(57,"span"),m.Uc(58,"id_cliente"),m.ac(),m.ac(),m.bc(59,"div",23),m.bc(60,"span"),m.Uc(61,"Nombre"),m.ac(),m.ac(),m.bc(62,"div",23),m.bc(63,"span"),m.Uc(64,"ruc"),m.ac(),m.ac(),m.bc(65,"div",23),m.bc(66,"span"),m.Uc(67,"direccion"),m.ac(),m.ac(),m.bc(68,"div",23),m.bc(69,"span"),m.Uc(70,"telefono"),m.ac(),m.ac(),m.bc(71,"div",23),m.bc(72,"span"),m.Uc(73,"Action"),m.ac(),m.ac(),m.ac(),m.Sc(74,ge,20,9,"div",24),m.Sc(75,ve,5,0,"div",25),m.ac(),m.ac(),m.ac(),m.ac()),2&e&&(m.Fb(1),m.xc("formGroup",t.formAsesor),m.Fb(11),m.xc("ngIf",t.formAsesor.controls.nombre.hasError("required")&&t.formAsesor.controls.nombre.touched),m.Fb(4),m.xc("ngIf",t.formAsesor.controls.apellido.hasError("required")&&t.formAsesor.controls.apellido.touched),m.Fb(5),m.xc("ngIf",t.formAsesor.controls.telefono.hasError("required")&&t.formAsesor.controls.telefono.touched),m.Fb(29),m.xc("ngIf",!t.isAprob),m.Fb(1),m.xc("ngIf",t.isAprob),m.Fb(23),m.xc("ngForOf",t.cartList),m.Fb(1),m.xc("ngIf",!t.isAprob))},directives:[ne.a,d.y,d.p,d.i,ne.f,re.a,ne.c,se.c,se.a,g.c,a.b,d.b,d.o,d.g,i.n,v.b,y.a,i.m,O.c,i.o],styles:["mat-form-field[_ngcontent-%COMP%]{margin-right:12px}.cart-page-container[_ngcontent-%COMP%]{max-width:1140px;text-align:center;padding:0 30px;margin:auto}.cart-page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px;font-family:Playfair Display;margin:80px 0}.cart-page-content[_ngcontent-%COMP%]{max-width:940px;margin:30px 70px;background-color:#fff}.cart-item-cell[_ngcontent-%COMP%]{width:100%}.cart-item-row[_ngcontent-%COMP%], .cart-total[_ngcontent-%COMP%]{border-bottom:1px solid #e4e4e4}.cart-item-header[_ngcontent-%COMP%]   .cart-item-cell[_ngcontent-%COMP%]:first-of-type{text-align:left}.cart-item-header[_ngcontent-%COMP%]   .cart-item-cell[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;letter-spacing:.15em;color:#9f9f9f;text-align:right}.cart-item-thumbnail[_ngcontent-%COMP%]{float:left;width:60px;height:60px;margin-right:15px;vertical-align:middle;background-position:50% 50%;background-repeat:no-repeat;background-size:cover}.cart-item-info[_ngcontent-%COMP%]{float:left}.cart-item-brand[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:12px;letter-spacing:.05em;color:#9f9f9f}.cart-item-brand[_ngcontent-%COMP%], .cart-item-title[_ngcontent-%COMP%]{text-transform:uppercase;text-align:left}.cart-item-title[_ngcontent-%COMP%]{color:#1d1d20;max-width:100%;letter-spacing:.1em}.item-price[_ngcontent-%COMP%]{color:#9f9f9f;font-size:16px;font-family:Playfair Display}.item-remove[_ngcontent-%COMP%]{font-size:30px;color:#9f9f9f;cursor:pointer}.item-remove[_ngcontent-%COMP%]:hover{color:#000}.cart-total[_ngcontent-%COMP%]{text-transform:uppercase;color:#9f9f9f;letter-spacing:2px;margin:0}.cart-total-row[_ngcontent-%COMP%]{line-height:30px}.cart-total-label[_ngcontent-%COMP%]{text-align:left}.cart-total-value[_ngcontent-%COMP%]{text-align:right}.cart-total-price[_ngcontent-%COMP%]{color:#000}.cart-buttons[_ngcontent-%COMP%]{padding:20px 0}.continue-shopping[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:uppercase;color:#000;float:left}.checkout-button[_ngcontent-%COMP%]{text-align:end;margin-bottom:20px}@media screen and (min-width:768px){.cart-item-row[_ngcontent-%COMP%]{display:table;width:100%;border-collapse:separate;border-spacing:0 30px;box-sizing:border-box;table-layout:fixed}.cart-item-product[_ngcontent-%COMP%]{width:320%;text-align:left}.cart-item-cell[_ngcontent-%COMP%]{display:table-cell;vertical-align:top;text-align:right}}@media screen and (max-width:820px){.cart-page-content[_ngcontent-%COMP%]{margin:0}.cart-page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:30px 0}.cart-item-header[_ngcontent-%COMP%]{display:none}.cart-item-product[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;padding-bottom:15px}.cart-item-quantity[_ngcontent-%COMP%]{width:80%;float:left;padding-bottom:15px;text-align:left}.cart-item-action[_ngcontent-%COMP%], .cart-item-total[_ngcontent-%COMP%]{text-align:right}.cart-total-label[_ngcontent-%COMP%]{float:left}.continue-shopping[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:none}.checkout-button[_ngcontent-%COMP%]{float:none;margin:20px 0 0}}"]}),e})();const xe=[{path:"",children:[{path:"mat-table",component:ce,data:{title:"Material TAble",breadcrumb:"Tabla Extendida"}},{path:"aseclient",component:Ce,data:{title:"Form Asesor",breadcrumb:"Form Asesor"}},{path:"aseclient/:id",component:Ce,data:{title:"Edit Asesor",breadcrumb:"Edit Asesor"}}]}];var _e=c("tk/3"),Se=c("bSwM"),we=c("iadO"),ye=c("d3UM"),Ae=c("A5z7"),Oe=c("FKr1");let Me=(()=>{class e{}return e.\u0275mod=m.Tb({type:e}),e.\u0275inj=m.Sb({factory:function(t){return new(t||e)},imports:[[Ae.c,i.c,w.b,h.b,g.e,a.c,A.c,ye.b,Se.b,we.c,Oe.n,v.c,x.b,s.p,y.b,n.b,r.c,p.g,ne.e],Ae.c,i.c,w.b,h.b,g.e,a.c,A.c,ye.b,Se.b,we.c,Oe.n,v.c,x.b,s.p,y.b,n.b,r.c,p.g,ne.e]}),e})();var Fe=c("MutI"),Pe=c("bv9b"),Ue=c("xHqg"),De=c("YUcS"),ke=c("CzEO"),Ie=c("7pIB"),Ne=c("2Z0n"),Ve=c("AExG");let ze=(()=>{class e{}return e.\u0275mod=m.Tb({type:e}),e.\u0275inj=m.Sb({factory:function(t){return new(t||e)},providers:[{provide:p.h,useValue:{}},u,f.a,i.e,S.a,Ne.a,Ve.a,oe.a,ie.a],imports:[[Fe.b,Pe.b,Ue.d,De.a,ke.a,Ie.a,h.b,Me,_e.d,d.u,d.k,i.c,a.c,n.b,r.c,s.p,l.a,o.k.forChild(xe)]]}),e})()}}]);