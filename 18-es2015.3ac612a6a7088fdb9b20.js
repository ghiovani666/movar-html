(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"2Yqv":function(t,e,i){"use strict";i.r(e),i.d(e,"TablesModule",(function(){return vt}));var r=i("ofXK"),n=i("tyNb"),o=i("qFsG"),s=i("M9IT"),a=i("Dh3D"),c=i("+0xr"),l=i("lDzL"),u=i("fXoL"),p=i("3Pt+"),d=i("LvDl");let m=(()=>{class t{constructor(){this.form=new p.h({id:new p.e(null),username:new p.e("",p.x.required),email:new p.e("",p.x.required),state:new p.e("",p.x.required),role_id:new p.e("",p.x.required),password:new p.e("",p.x.required)})}initializeFormGroup(){this.form.setValue({id:null,username:"",email:"",state:"",role_id:"",password:""})}populateForm(t){this.form.setValue(d.omit({id:t.id,username:t.username,email:t.email,state:t.state,role_id:t.role_id,password:t.password_view}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Rb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=i("dNgK");let h=(()=>{class t{constructor(t){this.snackBar=t,this.config={duration:3e3,horizontalPosition:"right",verticalPosition:"top"}}success(t){this.config.panelClass=["notification","success"],this.snackBar.open(t,"",this.config)}warn(t){this.config.panelClass=["notification","warn"],this.snackBar.open(t,"",this.config)}}return t.\u0275fac=function(e){return new(e||t)(u.jc(f.a))},t.\u0275prov=u.Rb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=i("AExG"),g=i("0IaG"),v=i("zkoq"),_=i("kmnG"),x=i("d3UM"),C=i("bTqV"),w=i("NFeN"),P=i("FKr1");function O(t,e){if(1&t&&(u.bc(0,"mat-option",17),u.Uc(1),u.ac()),2&t){const t=e.$implicit;u.xc("value",t.value),u.Fb(1),u.Wc(" ",t.names," ")}}function M(t,e){if(1&t&&(u.bc(0,"mat-option",17),u.Uc(1),u.ac()),2&t){const t=e.$implicit;u.xc("value",t.value),u.Fb(1),u.Wc(" ",t.names," ")}}let y=(()=>{class t{constructor(t,e,i,r){this.usersService=t,this.service=e,this.notificationService=i,this.dialogRef=r,this.myObjArray=[],this.myObjArrayRol=[],this.hide=!0}ngOnInit(){this.myObjArray=[{names:"Activo",value:1},{names:"Inactivo",value:0}],this.myObjArrayRol=[{names:"Administrador",value:1},{names:"Asesor",value:2},{names:"Cliente",value:3}]}onSubmit(){this.service.form.valid&&(this.usersService.sendMessageProducto(this.service.form.value),this.service.form.reset(),this.service.initializeFormGroup(),this.onClose())}onClose(){this.service.form.reset(),this.service.initializeFormGroup(),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(u.Vb(b.a),u.Vb(m),u.Vb(h),u.Vb(g.h))},t.\u0275cmp=u.Pb({type:t,selectors:[["app-employee"]],decls:40,vars:9,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"normal-form",3,"formGroup"],["cols","1","rowHeight","300px"],[1,"controles-container"],["type","hidden","formControlName","id"],["formControlName","username","matInput","","placeholder","Usuario*"],["formControlName","email","matInput","","placeholder","Email*"],["formControlName","role_id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","state","required",""],["appearance","fill"],["matInput","","formControlName","password","matInput","","placeholder","Password*",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,e){1&t&&(u.bc(0,"h2",0),u.Uc(1),u.ac(),u.bc(2,"mat-dialog-content",1),u.bc(3,"form",2),u.bc(4,"mat-grid-list",3),u.bc(5,"mat-grid-tile"),u.bc(6,"div",4),u.Wb(7,"input",5),u.bc(8,"mat-form-field"),u.Wb(9,"input",6),u.bc(10,"mat-error"),u.Uc(11,"This field is mandatory."),u.ac(),u.ac(),u.bc(12,"mat-form-field"),u.Wb(13,"input",7),u.bc(14,"mat-error"),u.Uc(15,"This field is mandatory."),u.ac(),u.ac(),u.bc(16,"mat-form-field"),u.bc(17,"mat-label"),u.Uc(18,"Tipo Rol"),u.ac(),u.bc(19,"mat-select",8),u.Sc(20,O,2,2,"mat-option",9),u.ac(),u.ac(),u.bc(21,"mat-form-field"),u.bc(22,"mat-label"),u.Uc(23,"Estado"),u.ac(),u.bc(24,"mat-select",10),u.Sc(25,M,2,2,"mat-option",9),u.ac(),u.bc(26,"mat-error"),u.Uc(27,"This field is mandatory."),u.ac(),u.ac(),u.bc(28,"mat-form-field",11),u.bc(29,"mat-label"),u.Uc(30,"Enter your password"),u.ac(),u.Wb(31,"input",12),u.bc(32,"button",13),u.nc("click",(function(){return e.hide=!e.hide})),u.bc(33,"mat-icon"),u.Uc(34),u.ac(),u.ac(),u.ac(),u.ac(),u.ac(),u.ac(),u.ac(),u.ac(),u.bc(35,"mat-dialog-actions",14),u.bc(36,"button",15),u.Uc(37,"Cancel"),u.ac(),u.bc(38,"button",16),u.nc("click",(function(){return e.onSubmit()})),u.Uc(39),u.ac(),u.ac()),2&t&&(u.Fb(1),u.Vc(e.service.form.controls.id.value?"Modificar Usuario":"Nuevo Usuario"),u.Fb(2),u.xc("formGroup",e.service.form),u.Fb(17),u.xc("ngForOf",e.myObjArrayRol),u.Fb(5),u.xc("ngForOf",e.myObjArray),u.Fb(6),u.xc("type",e.hide?"password":"text"),u.Fb(1),u.Gb("aria-label","Hide password")("aria-pressed",e.hide),u.Fb(2),u.Vc(e.hide?"visibility_off":"visibility"),u.Fb(5),u.Vc(e.service.form.controls.id.value?"Actualizar":"Registrar"))},directives:[g.i,g.f,p.z,p.q,p.i,v.a,v.c,p.b,p.p,p.g,_.c,o.b,_.b,_.f,x.a,r.m,p.w,C.b,_.g,w.a,g.c,g.d,P.p],styles:[""]}),t})();var U=i("fqgk"),S=i("A5z7"),F=i("QibW");function k(t,e){if(1&t){const t=u.cc();u.bc(0,"button",22),u.nc("click",(function(){return u.Lc(t),u.rc().onSearchClear()})),u.bc(1,"mat-icon"),u.Uc(2,"close"),u.ac(),u.ac()}}function D(t,e){1&t&&(u.bc(0,"mat-header-cell",23),u.Uc(1,"Usuario"),u.ac())}function I(t,e){if(1&t&&(u.bc(0,"mat-cell"),u.bc(1,"span",24),u.Uc(2,"Usuario:"),u.ac(),u.Uc(3),u.ac()),2&t){const t=e.$implicit;u.Fb(3),u.Wc(" ",t.username," ")}}function R(t,e){1&t&&(u.bc(0,"mat-header-cell",23),u.Uc(1,"Email"),u.ac())}function z(t,e){if(1&t&&(u.bc(0,"mat-cell"),u.bc(1,"span",24),u.Uc(2,"Email:"),u.ac(),u.Uc(3),u.ac()),2&t){const t=e.$implicit;u.Fb(3),u.Wc(" ",t.email," ")}}function W(t,e){1&t&&(u.bc(0,"mat-header-cell",23),u.Uc(1,"Estado"),u.ac())}function E(t,e){if(1&t&&(u.bc(0,"mat-cell"),u.bc(1,"span",24),u.Uc(2,"Estado:"),u.ac(),u.bc(3,"mat-chip-list",25),u.bc(4,"mat-chip"),u.Uc(5),u.ac(),u.ac(),u.ac()),2&t){const t=e.$implicit;u.Fb(5),u.Vc(1==t.state?"Activo":0==t.state?"Inactivo":t.state)}}function N(t,e){1&t&&(u.bc(0,"mat-header-cell",23),u.Uc(1,"Rol"),u.ac())}function V(t,e){if(1&t&&(u.bc(0,"mat-cell"),u.bc(1,"span",24),u.Uc(2,"Rol:"),u.ac(),u.bc(3,"mat-chip-list",25),u.bc(4,"mat-chip"),u.Uc(5),u.ac(),u.ac(),u.ac()),2&t){const t=e.$implicit;u.Fb(5),u.Vc(1==t.role_id?"Administrador":2==t.role_id?"Asesor":3==t.role_id?"Cliente":t.role_id)}}function q(t,e){1&t&&u.Wb(0,"mat-header-cell")}function A(t,e){if(1&t){const t=u.cc();u.bc(0,"mat-radio-button",28),u.nc("click",(function(){u.Lc(t);const e=u.rc().$implicit;return u.rc().selectProductComponent(e)})),u.Uc(1,"Seleccionar"),u.ac()}2&t&&u.xc("mat-dialog-close",!0)}function j(t,e){if(1&t){const t=u.cc();u.bc(0,"mat-cell"),u.bc(1,"button",26),u.nc("click",(function(){u.Lc(t);const i=e.$implicit;return u.rc().onEdit(i)})),u.bc(2,"mat-icon"),u.Uc(3,"mode_edit"),u.ac(),u.ac(),u.Sc(4,A,2,1,"mat-radio-button",27),u.ac()}if(2&t){const t=u.rc();u.Fb(4),u.xc("ngIf",t.showRadio)}}function L(t,e){1&t&&(u.bc(0,"mat-footer-cell",29),u.Uc(1," Loading data... "),u.ac())}function T(t,e){1&t&&(u.bc(0,"mat-footer-cell",29),u.Uc(1," No data. "),u.ac())}function G(t,e){1&t&&u.Wb(0,"mat-header-row")}function B(t,e){1&t&&u.Wb(0,"mat-row")}const J=function(t){return{hide:t}};function Y(t,e){if(1&t&&u.Wb(0,"mat-footer-row",30),2&t){const t=u.rc();u.xc("ngClass",u.Dc(1,J,null!=t.listData))}}function Z(t,e){if(1&t&&u.Wb(0,"mat-footer-row",30),2&t){const t=u.rc();u.xc("ngClass",u.Dc(1,J,!(null!=t.listData&&0==t.listData.data.length)))}}const $=function(){return["loading"]},H=function(){return["noData"]},K=function(){return[5,10,25,100]};let X=(()=>{class t{constructor(t,e,i,r,n){this.ocultando=t,this.usersService=e,this.service=i,this.dialog=r,this.notificationService=n,this.showRadio=!0,this.displayedColumns=["username","email","state","role_id","actions"],this.projectsSubscription=this.usersService.getMessageProducto().subscribe(t=>{t.id?(console.log("ACTUALIZAR"),this.updateCreate()):(console.log("REGISTRAR"),this.addCreate())}),this.ocultando.getClickEvent().subscribe(t=>{this.showRadio=!this.showRadio})}ngOnInit(){this.showRadio=!this.showRadio,this.listarUsuario()}selectProductComponent(t){this.usersService.sendMessageProducto(t),this.onClose()}onClose(){this.service.form.reset(),this.service.initializeFormGroup()}listarUsuario(){this.usersService.listarUsuario().subscribe(t=>{this.listData=new c.o(t.data),this.listData.sort=this.sort,this.listData.paginator=this.paginator,this.listData.filterPredicate=(t,e)=>this.displayedColumns.some(i=>{if(void 0!==t[i])return"actions"!=i&&-1!=t[i].toString().toLowerCase().indexOf(e)})})}addCreate(){this.usersService.registerUsuario(this.service.form.value).subscribe(t=>{this.listarUsuario(),this.notificationService.success(JSON.parse(JSON.stringify(t)).message)})}updateCreate(){null!==this.service.form.value.id&&this.usersService.updateUsuario(this.service.form.value).subscribe(t=>{this.listarUsuario(),this.notificationService.success(JSON.parse(JSON.stringify(t)).message)})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.listData.filter=this.searchKey.trim().toLowerCase()}onCreate(){this.service.initializeFormGroup();const t=new g.e;t.disableClose=!1,t.autoFocus=!0,t.width="350px",this.dialog.open(y,t)}onEdit(t){this.service.populateForm(t);const e=new g.e;e.disableClose=!1,e.autoFocus=!0,e.width="350px",this.dialog.open(y,e)}onDelete(t){confirm("Are you sure to delete this record ?")&&(this.usersService.deleteEmployee(t).subscribe(e=>{this.listData.filteredData.filter(e=>e.id!==t),this.listData=new c.o(this.listData.filteredData.filter(e=>e.id!==t)),this.listData.sort=this.sort,this.listData.paginator=this.paginator,this.listData.filterPredicate=(t,e)=>this.displayedColumns.some(i=>"actions"!=i&&-1!=t[i].toLowerCase().indexOf(e))}),this.notificationService.warn("! Deleted successfully"))}ngOnDestroy(){this.projectsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Vb(U.a),u.Vb(b.a),u.Vb(m),u.Vb(g.b),u.Vb(h))},t.\u0275cmp=u.Pb({type:t,selectors:[["app-employee-list"]],viewQuery:function(t,e){var i;1&t&&(u.Zc(a.a,!0),u.Zc(s.a,!0)),2&t&&(u.Hc(i=u.oc())&&(e.sort=i.first),u.Hc(i=u.oc())&&(e.paginator=i.first))},decls:34,vars:12,consts:[[1,"search-div"],["mat-raised-button","",3,"click"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Buscar","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"table-responsive","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","username"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","email"],["matColumnDef","state"],["matColumnDef","role_id"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["matColumnDef","loading"],["colspan","6",4,"matFooterCellDef"],["matColumnDef","noData"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-sort-header",""],[1,"mobile-label"],["aria-label","Fish selection"],["mat-icon-button","",3,"click"],[3,"mat-dialog-close","click",4,"ngIf"],[3,"mat-dialog-close","click"],["colspan","6"],[3,"ngClass"]],template:function(t,e){1&t&&(u.bc(0,"div",0),u.bc(1,"button",1),u.nc("click",(function(){return e.onCreate()})),u.bc(2,"mat-icon"),u.Uc(3,"add"),u.ac(),u.Uc(4,"Nuevo "),u.ac(),u.bc(5,"mat-form-field",2),u.bc(6,"input",3),u.nc("ngModelChange",(function(t){return e.searchKey=t}))("keyup",(function(){return e.applyFilter()})),u.ac(),u.Sc(7,k,3,0,"button",4),u.ac(),u.ac(),u.bc(8,"div",5),u.bc(9,"mat-table",6),u.Zb(10,7),u.Sc(11,D,2,0,"mat-header-cell",8),u.Sc(12,I,4,1,"mat-cell",9),u.Yb(),u.Zb(13,10),u.Sc(14,R,2,0,"mat-header-cell",8),u.Sc(15,z,4,1,"mat-cell",9),u.Yb(),u.Zb(16,11),u.Sc(17,W,2,0,"mat-header-cell",8),u.Sc(18,E,6,1,"mat-cell",9),u.Yb(),u.Zb(19,12),u.Sc(20,N,2,0,"mat-header-cell",8),u.Sc(21,V,6,1,"mat-cell",9),u.Yb(),u.Zb(22,13),u.Sc(23,q,1,0,"mat-header-cell",14),u.Sc(24,j,5,1,"mat-cell",9),u.Yb(),u.Zb(25,15),u.Sc(26,L,2,0,"mat-footer-cell",16),u.Yb(),u.Zb(27,17),u.Sc(28,T,2,0,"mat-footer-cell",16),u.Yb(),u.Sc(29,G,1,0,"mat-header-row",18),u.Sc(30,B,1,0,"mat-row",19),u.Sc(31,Y,1,3,"mat-footer-row",20),u.Sc(32,Z,1,3,"mat-footer-row",20),u.ac(),u.Wb(33,"mat-paginator",21),u.ac()),2&t&&(u.Fb(6),u.xc("ngModel",e.searchKey),u.Fb(1),u.xc("ngIf",e.searchKey),u.Fb(2),u.xc("dataSource",e.listData),u.Fb(20),u.xc("matHeaderRowDef",e.displayedColumns),u.Fb(1),u.xc("matRowDefColumns",e.displayedColumns),u.Fb(1),u.xc("matFooterRowDef",u.Cc(9,$)),u.Fb(1),u.xc("matFooterRowDef",u.Cc(10,H)),u.Fb(1),u.xc("pageSizeOptions",u.Cc(11,K))("pageSize",10))},directives:[C.b,w.a,_.c,o.b,p.b,p.p,p.s,r.n,c.n,a.a,c.c,c.i,c.b,c.e,c.k,c.m,c.g,s.a,_.g,c.h,a.b,c.a,S.b,S.a,F.a,g.d,c.d,c.j,c.l,c.f,r.l],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:500px;min-width:300px}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:500px}.mobile-label[_ngcontent-%COMP%]{display:none}@media(max-width:600px){.mobile-label[_ngcontent-%COMP%]{width:80px;display:inline-block;font-weight:700}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{flex-direction:column;align-items:start;padding:8px 24px}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{margin-top:22px;flex:1;margin-left:25px;display:list-item!important;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-chip[_ngcontent-%COMP%]:not(.mat-basic-chip){display:flex;padding:8px 12px;border-radius:24px;font-size:13px;line-height:16px}"]}),t})(),Q=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Pb({type:t,selectors:[["app-employees"]],decls:2,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(u.bc(0,"div",0),u.Wb(1,"app-employee-list"),u.ac())},directives:[X],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]}),t})();var tt=i("AytR"),et=i("Wp6s"),it=i("f0Cb");function rt(t,e){if(1&t){const t=u.cc();u.bc(0,"a",27),u.nc("click",(function(){return u.Lc(t),u.rc().delete()})),u.bc(1,"mat-icon"),u.Uc(2,"clear"),u.ac(),u.ac()}}function nt(t,e){if(1&t&&(u.bc(0,"p",28),u.Wb(1,"i",29),u.Uc(2),u.ac()),2&t){const t=u.rc();u.Fb(2),u.Wc(" ",t.txt_telefono,"")}}function ot(t,e){1&t&&(u.bc(0,"small",51),u.Uc(1," First * is required "),u.ac())}function st(t,e){1&t&&(u.bc(0,"small",51),u.Uc(1," First * is required "),u.ac())}function at(t,e){1&t&&(u.bc(0,"small",51),u.Uc(1," First * is required "),u.ac())}function ct(t,e){1&t&&(u.bc(0,"small",51),u.Uc(1," First * is required "),u.ac())}function lt(t,e){1&t&&(u.bc(0,"small",51),u.Uc(1," First * is required "),u.ac())}function ut(t,e){if(1&t){const t=u.cc();u.bc(0,"div",30),u.bc(1,"div",31),u.bc(2,"mat-card-title",32),u.bc(3,"div",33),u.Uc(4,"Informaci\xf3n del Usuario"),u.ac(),u.Wb(5,"mat-divider"),u.ac(),u.bc(6,"mat-card-content"),u.bc(7,"form",34),u.Wb(8,"input",35),u.bc(9,"div",36),u.bc(10,"div",37),u.bc(11,"div",38),u.bc(12,"mat-form-field",39),u.Wb(13,"input",40),u.ac(),u.Sc(14,ot,2,0,"small",41),u.ac(),u.bc(15,"div",38),u.bc(16,"mat-form-field",39),u.Wb(17,"input",42),u.ac(),u.Sc(18,st,2,0,"small",41),u.ac(),u.bc(19,"div",38),u.bc(20,"mat-form-field",39),u.Wb(21,"input",43),u.ac(),u.Sc(22,at,2,0,"small",41),u.ac(),u.ac(),u.bc(23,"div",37),u.bc(24,"div",38),u.bc(25,"mat-form-field",39),u.Wb(26,"input",44),u.ac(),u.Sc(27,ct,2,0,"small",41),u.ac(),u.bc(28,"div",38),u.bc(29,"mat-form-field",39),u.Wb(30,"input",45),u.ac(),u.Sc(31,lt,2,0,"small",41),u.ac(),u.bc(32,"div",38),u.bc(33,"mat-form-field",46),u.bc(34,"mat-label"),u.Uc(35,"Enter your password"),u.ac(),u.Wb(36,"input",47),u.bc(37,"button",48),u.nc("click",(function(){u.Lc(t);const e=u.rc();return e.hide=!e.hide})),u.bc(38,"mat-icon"),u.Uc(39),u.ac(),u.ac(),u.ac(),u.ac(),u.bc(40,"div",49),u.bc(41,"button",50),u.nc("click",(function(){return u.Lc(t),u.rc().SumitUpdate()})),u.bc(42,"mat-icon"),u.Uc(43,"check_circle_outline"),u.ac(),u.Uc(44," Actualizar "),u.ac(),u.ac(),u.ac(),u.ac(),u.ac(),u.ac(),u.ac(),u.ac()}if(2&t){const t=u.rc();u.Fb(7),u.xc("formGroup",t.formProfile),u.Fb(7),u.xc("ngIf",t.basicForm.controls.nombre.hasError("required")&&t.basicForm.controls.nombre.touched),u.Fb(4),u.xc("ngIf",t.basicForm.controls.apellido.hasError("required")&&t.basicForm.controls.apellido.touched),u.Fb(4),u.xc("ngIf",t.basicForm.controls.email.hasError("required")&&t.basicForm.controls.email.touched),u.Fb(5),u.xc("ngIf",t.basicForm.controls.telefono.hasError("required")&&t.basicForm.controls.telefono.touched),u.Fb(4),u.xc("ngIf",t.basicForm.controls.username.hasError("required")&&t.basicForm.controls.username.touched),u.Fb(5),u.xc("type",t.hide?"password":"text"),u.Fb(1),u.Gb("aria-label","Hide password")("aria-pressed",t.hide),u.Fb(2),u.Vc(t.hide?"visibility_off":"visibility")}}let pt=(()=>{class t{constructor(t,e,i){this.formBuilder=t,this.notificationService=e,this.usersService=i,this.usersUrl=""+tt.a.apiURL,this.isValueDatos=!1,this.hide=!0}ngOnInit(){this.listarProfile(),this.basicForm=new p.h({user_id:new p.e(null),nombre:new p.e(null),apellido:new p.e(null),telefono:new p.e(null),username:new p.e(null),email:new p.e(null),password:new p.e(null)}),this.formProfile=new p.h({user_id:new p.e(null),nombre:new p.e("",[p.x.required]),apellido:new p.e("",[p.x.required]),telefono:new p.e("",[p.x.required]),username:new p.e("",[p.x.required]),email:new p.e("",[p.x.required]),password:new p.e(null)}),this.formProfileImagen=this.formBuilder.group({profile:[""]})}listarProfile(){this.usersService.listarProfile(window.localStorage.getItem("USER_ID")).subscribe(t=>{const e=JSON.parse(JSON.stringify(t));this.url=null==e.user.avatar?"assets/images/logos/myavatar.png":this.usersUrl+"/profile/"+e.user.avatar,2==e.user.rol_id?(this.isValueDatos=!0,this.txt_usuario=e.user.ase_nombre+" "+e.user.ase_apellido,this.txt_telefono=e.user.ase_telefono,this.txt_email=e.user.email,this.formProfile.setValue({user_id:e.user.id,nombre:e.user.ase_nombre,apellido:e.user.ase_apellido,telefono:e.user.ase_telefono,username:e.user.username,email:e.user.email,password:e.user.password_view})):3==e.user.rol_id?(this.isValueDatos=!0,this.txt_usuario=e.user.cli_nombre+" "+e.user.cli_apellido,this.txt_telefono=e.user.cli_telefono,this.txt_email=e.user.email,this.formProfile.setValue({user_id:e.user.id,nombre:e.user.cli_nombre,apellido:e.user.cli_apellido,telefono:e.user.cli_telefono,username:e.user.username,email:e.user.email,password:e.user.password_view})):(this.txt_usuario=e.user.username,this.txt_email=e.user.email)})}onChange(t){if(t.target.files.length>0){const e=t.target.files[0];this.formProfileImagen.get("profile").setValue(e);const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=t=>{this.url=t.target.result};const r=new FormData;r.append("user_id",this.formProfile.get("user_id").value),r.append("file_profile",e),this.usersService.uploadAvatar(r).subscribe(t=>{this.notificationService.success(t.message)},t=>{console.log(t)})}}delete(){this.url="assets/images/logos/myavatar.png";const t=new FormData;t.append("user_id",this.formProfile.get("user_id").value),this.usersService.uploadAvatarClose(t).subscribe(t=>{this.notificationService.success(t.message)},t=>{console.log(t)})}SumitUpdate(){this.formProfile.valid&&this.usersService.updateProfile(this.formProfile.value).subscribe(t=>{this.notificationService.success(t.user[0][0][0].data),this.listarProfile()})}}return t.\u0275fac=function(e){return new(e||t)(u.Vb(p.d),u.Vb(h),u.Vb(b.a))},t.\u0275cmp=u.Pb({type:t,selectors:[["app-basic-form"]],decls:33,vars:6,consts:[[1,"p-0"],[1,"container"],[1,"profile-header"],[1,"profile-img"],["for","fileInput",1,"hoverable"],["width","200","alt","Profile Image",3,"src"],[1,"hover-text"],[1,"background"],["id","fileInput","name","profile","type","file",3,"change"],["mat-mini-fab","","color","accent",3,"click",4,"ngIf"],[1,"profile-nav-info"],[1,"user-name"],[1,"address"],["id","state",1,"state"],["id","country",1,"country"],[1,"profile-option"],[1,"notification"],[1,"fa","fa-bell"],[1,"alert-message"],[1,"main-bd"],[1,"left-side"],[1,"profile-side"],["class","mobile-no",4,"ngIf"],[1,"user-mail"],[1,"fa","fa-envelope"],[1,"profile-btn"],["class","right-side",4,"ngIf"],["mat-mini-fab","","color","accent",3,"click"],[1,"mobile-no"],[1,"fa","fa-phone"],[1,"right-side"],[1,"profile-body",2,"width","40vw !important"],[1,""],[1,"card-title-text"],[3,"formGroup"],["type","hidden","name","user_id","formControlName","user_id"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],[1,"full-width"],["matInput","","name","nombre","formControlName","nombre","placeholder","Nombre","value",""],["class","form-error-msg",4,"ngIf"],["matInput","","name","apellido","formControlName","apellido","placeholder","Apellido","value",""],["type","email","matInput","","name","email","formControlName","email","placeholder","Email","value",""],["matInput","","name","telefono","type","number","formControlName","telefono","placeholder","Tel\xe9fono","value",""],["matInput","","name","username","formControlName","username","placeholder","Nombre de Usuario","value",""],["appearance","fill"],["matInput","","formControlName","password","matInput","","placeholder","Password*",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"cart-buttons","checkout-button"],["mat-raised-button","","color","primary",3,"click"],[1,"form-error-msg"]],template:function(t,e){1&t&&(u.bc(0,"mat-card",0),u.bc(1,"div",1),u.bc(2,"div",2),u.bc(3,"div",3),u.bc(4,"label",4),u.Wb(5,"img",5),u.bc(6,"div",6),u.Uc(7,"Choose file"),u.ac(),u.Wb(8,"div",7),u.ac(),u.bc(9,"input",8),u.nc("change",(function(t){return e.onChange(t)})),u.ac(),u.Sc(10,rt,3,0,"a",9),u.ac(),u.bc(11,"div",10),u.bc(12,"h3",11),u.Uc(13),u.ac(),u.bc(14,"div",12),u.bc(15,"p",13),u.Uc(16,"Lima"),u.ac(),u.bc(17,"span",14),u.Uc(18,"Per\xfa"),u.ac(),u.ac(),u.ac(),u.bc(19,"div",15),u.bc(20,"div",16),u.Wb(21,"i",17),u.bc(22,"span",18),u.Uc(23,"3"),u.ac(),u.ac(),u.ac(),u.ac(),u.bc(24,"div",19),u.bc(25,"div",20),u.bc(26,"div",21),u.Sc(27,nt,3,1,"p",22),u.bc(28,"p",23),u.Wb(29,"i",24),u.Uc(30),u.ac(),u.Wb(31,"div",25),u.ac(),u.ac(),u.Sc(32,ut,45,10,"div",26),u.ac(),u.ac(),u.ac()),2&t&&(u.Fb(5),u.xc("src",e.url,u.Nc),u.Fb(5),u.xc("ngIf",e.url),u.Fb(3),u.Vc(e.txt_usuario),u.Fb(14),u.xc("ngIf",e.isValueDatos),u.Fb(3),u.Wc(" ",e.txt_email,""),u.Fb(2),u.xc("ngIf",e.isValueDatos))},directives:[et.a,r.n,C.a,w.a,et.e,it.a,et.c,p.z,p.q,p.i,p.b,p.p,p.g,_.c,o.b,p.u,_.f,C.b,_.g],styles:['@import url("https://fonts.googleapis.com/css?family=Poppins&display=swap");@import url("https://fonts.googleapis.com/css?family=Bree+Serif&display=swap");@import url("https://pro.fontawesome.com/releases/v5.10.0/css/all.css");*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}body[_ngcontent-%COMP%]{background:#e9e9e9;overflow-x:hidden;padding-top:90px;font-family:Poppins,sans-serif;margin:0 100px}.profile-header[_ngcontent-%COMP%]{background:#fff;width:100%;display:flex;height:190px;position:relative;box-shadow:0 3px 4px rgba(0,0,0,.2)}.profile-img[_ngcontent-%COMP%]{float:left;width:340px;height:200px}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;height:230px;width:230px;border:5px solid #fff;box-shadow:0 5px 10px rgba(0,0,0,.2);position:absolute;left:50px;top:20px;z-index:5;background:#fff}.profile-nav-info[_ngcontent-%COMP%]{float:left;display:flex;flex-direction:column;justify-content:center;padding-top:60px}.profile-nav-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-variant:small-caps;font-size:2rem;font-family:sans-serif;font-weight:700}.profile-nav-info[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{display:flex;font-weight:700;color:#777}.profile-nav-info[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:5px}.profile-option[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;right:50px;top:50%;transform:translateY(-50%);border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:all .5s ease-in-out;outline:none;background:#e40046}.profile-option[_ngcontent-%COMP%]:hover{background:#fff;border:1px solid #e40046}.profile-option[_ngcontent-%COMP%]:hover   .notification[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e40046}.profile-option[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{background:#e40046}.profile-option[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem;transition:all .5s ease-in-out}.profile-option[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#fff;color:#e40046;border:1px solid #e40046;padding:5px;border-radius:50%;height:20px;width:20px;display:flex;justify-content:center;align-items:center;font-size:.8rem;font-weight:700}.main-bd[_ngcontent-%COMP%]{display:flex;padding-right:15px}.profile-side[_ngcontent-%COMP%]{width:300px;background:#fff;box-shadow:0 3px 5px rgba(0,0,0,.2);padding:90px 30px 20px;font-family:"Bree Serif",serif;margin-left:10px;z-index:99}.profile-side[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:7px;color:#333;font-size:14px}.profile-side[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e40046;margin-right:10px}.mobile-no[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotateY(180deg);color:#e40046}.profile-btn[_ngcontent-%COMP%]{display:flex}button.chatbtn[_ngcontent-%COMP%], button.createbtn[_ngcontent-%COMP%]{border:0;padding:10px;width:100%;border-radius:3px;background:#e40046;color:#fff;font-family:"Bree Serif";font-size:1rem;cursor:pointer;outline:none;margin:5px 2px 10px;transition:background .3s ease-in-out;box-shadow:0 5px 7px 0 rgba(0,0,0,.3)}button.chatbtn[_ngcontent-%COMP%]:hover, button.createbtn[_ngcontent-%COMP%]:hover{background:rgba(255,0,70,.9)}button.chatbtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], button.createbtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.user-rating[_ngcontent-%COMP%]{display:flex}.user-rating[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:200;margin-right:5px;letter-spacing:1px;color:#666}.user-rating[_ngcontent-%COMP%]   .no-of-user-rate[_ngcontent-%COMP%]{font-size:.9rem}.rate[_ngcontent-%COMP%]{padding-top:6px}.rate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;color:#e40046}.nav[_ngcontent-%COMP%]{width:100%;z-index:-1}.nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-around;list-style-type:none;height:40px;background:#fff;box-shadow:0 2px 5px rgba(0,0,0,.3)}.nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;width:100%;cursor:pointer;text-align:center;transition:all .2s ease-in-out}.nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{box-shadow:inset 0 -3px 0 rgba(255,0,70,.9)}.profile-body[_ngcontent-%COMP%]{width:100%;z-index:-1}.tab[_ngcontent-%COMP%]{display:none;padding:20px;width:100%;text-align:center}@media (max-width:1100px){.profile-side[_ngcontent-%COMP%]{width:250px;padding:90px 15px 20px}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:200px;left:50px;top:50px}}@media (max-width:900px){body[_ngcontent-%COMP%]{margin:0 20px}.profile-header[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;text-align:center;padding-bottom:20px}.profile-img[_ngcontent-%COMP%]{float:left;width:100%;height:200px}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;height:200px;width:200px;left:0}.profile-nav-info[_ngcontent-%COMP%]{text-align:center}.profile-option[_ngcontent-%COMP%]{right:20px;top:75%;transform:translateY(50%)}.main-bd[_ngcontent-%COMP%]{flex-direction:column;padding-right:0}.profile-side[_ngcontent-%COMP%]{width:100%;text-align:center;padding:20px;margin:5px 0}.profile-nav-info[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%], .user-rating[_ngcontent-%COMP%]{justify-content:center}}@media (max-width:400px){.profile-option[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;right:15px;top:83%}.profile-option[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{top:-3px;right:-4px;padding:4px;height:15px;width:15px;font-size:.7rem}.profile-nav-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.9rem}.profile-nav-info[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .profile-nav-info[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}#see-less-bio[_ngcontent-%COMP%], #see-more-bio[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-transform:lowercase}.tab[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:"Bree Serif",sans-serif;display:flex;justify-content:center;margin:20px auto}img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.hoverable[_ngcontent-%COMP%]{display:block;cursor:pointer}.hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;top:0;left:0;bottom:0;right:0;background-color:hsla(0,0%,100%,.5);pointer-events:none;border-radius:50%;z-index:1}.hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%], .hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%]{display:block}#fileInput[_ngcontent-%COMP%]{display:none}']}),t})();const dt=[{path:"",children:[{path:"mat-table",component:1===parseInt(window.localStorage.getItem("ID_ROL"))?Q:pt,data:{title:"Material Table"}},{path:"profile",component:pt,data:{title:"Perfil",breadcrumb:"Perfil"}}]}];var mt=i("bSwM"),ft=i("iadO"),ht=i("/t3+");let bt=(()=>{class t{}return t.\u0275mod=u.Tb({type:t}),t.\u0275inj=u.Sb({factory:function(e){return new(e||t)},imports:[[it.b,S.c,r.c,ht.b,v.b,_.e,o.c,F.c,x.b,mt.b,ft.c,P.n,C.c,f.b,c.p,w.b,s.b,a.c,g.g,et.d],it.b,S.c,ht.b,v.b,_.e,o.c,F.c,x.b,mt.b,ft.c,P.n,C.c,f.b,c.p,w.b,s.b,a.c,g.g,et.d]}),t})();var gt=i("tk/3");let vt=(()=>{class t{}return t.\u0275mod=u.Tb({type:t}),t.\u0275inj=u.Sb({factory:function(e){return new(e||t)},providers:[m,b.a,r.e,U.a],imports:[[bt,gt.d,p.v,p.k,r.c,o.c,s.b,a.c,c.p,l.a,n.k.forChild(dt)]]}),t})()},fqgk:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var r=i("tk/3"),n=i("un/a"),o=i("JIr8"),s=i("XNiG"),a=i("z6cu"),c=i("AytR"),l=i("fXoL");const u={headers:new r.e({"Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+JSON.parse(localStorage.getItem("JWT_TOKEN"))})};let p=(()=>{class t{constructor(t){this.http=t,this.usersUrl=""+c.a.apiURL,this.subject=new s.a}sumitEmployee(t){this.subject.next(t)}getClickEvent(){return this.subject.asObservable()}listCiudad(t){return this.http.get(this.usersUrl+"/v1/list_ciudad/"+t,u)}listPuerto(t){return this.http.get(this.usersUrl+"/v1/list_puerto/"+t,u)}_listDimension(){return this.http.get(this.usersUrl+"/v1/list_dimension",u)}_listIcontems(){return this.http.get(this.usersUrl+"/v1/list_icontems",u)}_listCanal(){return this.http.get(this.usersUrl+"/v1/list_canal",u)}registrarServicio(t){return this.http.post(this.usersUrl+"/v1/servicios",t,u)}listarServices_(t){return this.http.get(this.usersUrl+"/v1/servicios/"+t,u)}listMonitor(t){return this.http.get(this.usersUrl+"/v1/list_monitor/"+t,u)}listMonitorCount(t){return this.http.get(this.usersUrl+"/v1/list_monitor_count/"+t,u)}listarStateTraking(t){return this.http.post(this.usersUrl+"/v1/list_state_traking",{id_servicio:t},u)}registrarTraking(t){return this.http.post(this.usersUrl+"/v1/register_traking",t,u)}actualizarTraking(t){return this.http.post(this.usersUrl+"/v1/update_traking",t,u)}editServices(t){return this.http.get(this.usersUrl+"/v1/edit_services/"+t,u)}updateServices(t,e){return this.http.post(this.usersUrl+"/v1/update_services/"+e,t,u)}listClient(t){return this.http.get(this.usersUrl+"/v1/clientes/"+t,u)}listTypeServices(){return this.http.get(this.usersUrl+"/v1/list_type_services",u)}listIcoterms(){return this.http.get(this.usersUrl+"/v1/list_icontems",u)}listDimension(){return this.http.get(this.usersUrl+"/v1/list_dimension",u)}listTipoMoneda(){return this.http.get(this.usersUrl+"/v1/list_tipo_moneda",u)}listPais(){return this.http.get(this.usersUrl+"/v1/list_pais",u)}listRuta(){return this.http.get(this.usersUrl+"/v1/list_ruta",u)}listAereo(){return this.http.get(this.usersUrl+"/v1/list_aereo",u)}registerReferencia(t){return this.http.post(this.usersUrl+"/v1/register_referencia",t,u)}updateReferencia(t){return this.http.post(this.usersUrl+"/v1/update_referencia",t,u)}list_dimensions(t){return this.http.get(this.usersUrl+"/v1/list_dimensions/"+t,u)}registerRecibido(t){return this.http.post(this.usersUrl+"/v1/register_recibido",t,u)}registerEnbarque(t){return this.http.post(this.usersUrl+"/v1/register_enbarque",t,u)}registerDeclarado(t){return this.http.post(this.usersUrl+"/v1/register_declarado",t,u)}registerDescargado(t){return this.http.post(this.usersUrl+"/v1/register_descargado",t,u)}registerDiligencia(t){return this.http.post(this.usersUrl+"/v1/register_diligencia",t,u)}registerLevante(t){return this.http.post(this.usersUrl+"/v1/register_levante",t,u)}registerRetirado(t){return this.http.post(this.usersUrl+"/v1/register_retirado",t,u)}ultimateCodeGenerate(){return this.http.get(this.usersUrl+"/v1/generate_code",u)}list_trakings(t){return this.http.post(this.usersUrl+"/v1/list_trakings",{id_servicio:t},u)}listDimensionx(t){return this.http.get(this.usersUrl+"/v1/list_dimensionx/"+t,u)}updateDimension(t){return this.http.post(this.usersUrl+"/v1/update_dimension",t,u)}deleteDimension(t){return this.http.get(this.usersUrl+"/v1/delete_dimension/"+t,u)}registerDimension(t){return this.http.post(this.usersUrl+"/v1/register_dimension",t,u)}list_services_estados(t){return this.http.get(this.usersUrl+"/v1/list_services_estados/"+t,u)}publicTraking(t){return this.http.post(this.usersUrl+"/v1/public_traking",t,u)}edit_ruta(t){return this.http.get(this.usersUrl+"/v1/edit_ruta/"+t,u)}listarStates(t){return this.http.get(this.usersUrl+"/v1/asesores/"+t,u)}listarUltimateCode(){return this.http.get(this.usersUrl+"/v1/asesores",u)}registrarVenta(t,e){return this.http.post(this.usersUrl+"/v1/asesores",t,u)}registrarVentaDetalle(t,e,i){return this.http.post(this.usersUrl+"/v1/asesores"+i,t,u)}updatetEmployee(t,e){return this.http.put(this.usersUrl+"/v1/asesores",t,u)}registerEmployee(t){return this.http.post(this.usersUrl,JSON.stringify(t),u)}deleteEmployee(t){return this.http.delete(this.usersUrl+"/"+t,u).pipe(Object(n.a)(1),Object(o.a)(this.handleError))}handleError(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,window.alert(e),Object(a.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(l.jc(r.c))},t.\u0275prov=l.Rb({token:t,factory:t.\u0275fac}),t})()},"un/a":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i("7o/Q");function n(t=-1){return e=>e.lift(new o(t,e))}class o{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new s(t,this.count,this.source))}}class s extends r.a{constructor(t,e,i){super(t),this.count=e,this.source=i}error(t){if(!this.isStopped){const{source:e,count:i}=this;if(0===i)return super.error(t);i>-1&&(this.count=i-1),e.subscribe(this._unsubscribeAndRecycle())}}}}}]);